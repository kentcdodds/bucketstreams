<div class="bucket-stream-page">
  <div class="column-wrapper">
    <div class="col-xs-6" ng-if="currentUserIsOwner && !isStream">
      <div class="new-post-container">
        <bs-new-post user="currentUser" buckets="userBuckets"></bs-new-post>
      </div>
    </div>
    <div ng-class="{'col-xs-6': currentUserIsOwner && !isStream}" class="bucket-stream-info">
      <div class="clearfix">
        <bs-profile-picture ng-if="!currentUserIsOwner || isStream" user="owner" class="owner-profile"></bs-profile-picture>
        <i ng-show="!thing.isMain" class="fa fa-edit edit-thing" ng-click="editThing()" ng-if="currentUserIsOwner"></i>
        <div class="bucket-stream-details">
          <h1 class="margin-top-0">{{thing.name}}</h1>
          <div ng-if="!thing.isMain">{{thing.description}}</div>
          <div ng-if="thing.isMain && !isStream">This is a collection of all of {{owner.getDisplayName()}}'s posts you can see.</div>
          <div ng-if="thing.isMain && isStream">This is a collection of all of {{owner.getDisplayName()}}'s subscriptions you can see.</div>
          <div ng-if="!currentUserIsOwner && thing.isMain">
            <strong>Subscribe to this {{type}}</strong>
            <bs-bucket-stream-chooser streams="streams" bucket="bucket" stream="stream"></bs-bucket-stream-chooser>
          </div>
        </div>
        <div class="subscriptions" ng-if="isStream">
          Subscriptions:
          <div ng-if="thing.subscriptionsInfo.buckets.length">
            <strong fa-icon="bitbucket"> Buckets</strong>
            <ul>
              <li ng-repeat="bucketSub in thing.subscriptionsInfo.buckets">{{bucketSub.name}} by {{bucketSub.ownerInfo.getDisplayName()}}</li>
            </ul>
          </div>
          <div ng-if="thing.subscriptionsInfo.streams.length">
            <strong fa-icon="smile-o"> Streams</strong>
            <ul>
              <li ng-repeat="streamSub in thing.subscriptionsInfo.streams">{{streamSub.name}} by {{streamSub.ownerInfo.getDisplayName()}}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="clearfix margin-medium"></div>
  <div bs-post-stream="posts"></div>
</div>